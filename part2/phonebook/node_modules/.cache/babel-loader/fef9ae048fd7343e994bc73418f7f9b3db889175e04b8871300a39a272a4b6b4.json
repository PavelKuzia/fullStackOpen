{"ast":null,"code":"import _objectSpread from\"C:/Dateien/FullStack/fullStackOpen/part2/phonebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';// const baseUrl = 'http://localhost:3001/api/persons'\nvar baseUrl='/api/persons';var getAll=function getAll(){var request=axios.get(baseUrl);return request.then(function(response){return response.data;});};var create=function create(newObject){var request=axios.post(baseUrl,newObject);return request.then(function(response){return response.data;});};var deleteElement=function deleteElement(persons,index,setter){if(window.confirm(\"Do you want to delete \".concat(persons[index].name,\"?\"))){var url=\"\".concat(baseUrl,\"/\").concat(persons[index].id);axios.delete(url);var newPersons=persons.filter(function(person){return person.id!=persons[index].id;});setter(newPersons);}};var update=function update(person,newNumber){var url=\"\".concat(baseUrl,\"/\").concat(person.id);var newPerson=_objectSpread(_objectSpread({},person),{},{number:newNumber});var request=axios.put(url,newPerson);return request.then(function(response){return response.data;});};export default{getAll:getAll,create:create,deleteElement:deleteElement,update:update};","map":{"version":3,"names":["axios","baseUrl","getAll","request","get","then","response","data","create","newObject","post","deleteElement","persons","index","setter","window","confirm","concat","name","url","id","delete","newPersons","filter","person","update","newNumber","newPerson","_objectSpread","number","put"],"sources":["C:/Dateien/FullStack/fullStackOpen/part2/phonebook/src/services/persons.js"],"sourcesContent":["import axios from 'axios'\r\n\r\n// const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n    \r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteElement = (persons, index, setter) => {\r\n    if (window.confirm(`Do you want to delete ${persons[index].name}?`)) {\r\n        const url = `${baseUrl}/${persons[index].id}`\r\n        axios.delete(url)\r\n        const newPersons = persons.filter(person => person.id != persons[index].id)\r\n        setter(newPersons)\r\n    }\r\n}\r\n\r\nconst update = (person, newNumber) => {\r\n    const url = `${baseUrl}/${person.id}`\r\n    const newPerson = {...person, number: newNumber}\r\n    const request = axios.put(url, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deleteElement,\r\n    update\r\n}"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB;AACA,GAAM,CAAAC,OAAO,CAAG,cAAc,CAE9B,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACjB,GAAM,CAAAC,OAAO,CAAGH,KAAK,CAACI,GAAG,CAACH,OAAO,CAAC,CAClC,MAAO,CAAAE,OAAO,CAACE,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,GAAC,CAElD,CAAC,CAED,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAGC,SAAS,CAAI,CACxB,GAAM,CAAAN,OAAO,CAAGH,KAAK,CAACU,IAAI,CAACT,OAAO,CAAEQ,SAAS,CAAC,CAC9C,MAAO,CAAAN,OAAO,CAACE,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,GAAC,CAClD,CAAC,CAED,GAAM,CAAAI,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,OAAO,CAAEC,KAAK,CAAEC,MAAM,CAAK,CAC9C,GAAIC,MAAM,CAACC,OAAO,0BAAAC,MAAA,CAA0BL,OAAO,CAACC,KAAK,CAAC,CAACK,IAAI,KAAG,CAAC,CAAE,CACjE,GAAM,CAAAC,GAAG,IAAAF,MAAA,CAAMhB,OAAO,MAAAgB,MAAA,CAAIL,OAAO,CAACC,KAAK,CAAC,CAACO,EAAE,CAAE,CAC7CpB,KAAK,CAACqB,MAAM,CAACF,GAAG,CAAC,CACjB,GAAM,CAAAG,UAAU,CAAGV,OAAO,CAACW,MAAM,CAAC,SAAAC,MAAM,QAAI,CAAAA,MAAM,CAACJ,EAAE,EAAIR,OAAO,CAACC,KAAK,CAAC,CAACO,EAAE,GAAC,CAC3EN,MAAM,CAACQ,UAAU,CAAC,CACtB,CACJ,CAAC,CAED,GAAM,CAAAG,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAID,MAAM,CAAEE,SAAS,CAAK,CAClC,GAAM,CAAAP,GAAG,IAAAF,MAAA,CAAMhB,OAAO,MAAAgB,MAAA,CAAIO,MAAM,CAACJ,EAAE,CAAE,CACrC,GAAM,CAAAO,SAAS,CAAAC,aAAA,CAAAA,aAAA,IAAOJ,MAAM,MAAEK,MAAM,CAAEH,SAAS,EAAC,CAChD,GAAM,CAAAvB,OAAO,CAAGH,KAAK,CAAC8B,GAAG,CAACX,GAAG,CAAEQ,SAAS,CAAC,CACzC,MAAO,CAAAxB,OAAO,CAACE,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,GAAC,CAClD,CAAC,CAED,cAAe,CACXL,MAAM,CAANA,MAAM,CACNM,MAAM,CAANA,MAAM,CACNG,aAAa,CAAbA,aAAa,CACbc,MAAM,CAANA,MACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}