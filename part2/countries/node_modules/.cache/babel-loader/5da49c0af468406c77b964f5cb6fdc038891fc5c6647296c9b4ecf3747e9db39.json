{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\FullStack\\\\exercises\\\\part2\\\\countries\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios, { all } from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = \"https://studies.cs.helsinki.fi/restcountries/\";\nconst requestCountryInfo = country => {\n  const request = axios.get(baseUrl + `api/name/${country.toLowerCase()}`);\n  const dataPromise = request.then(response => response.data);\n  return dataPromise;\n};\nconst SearchResult = _ref => {\n  let {\n    filterResult,\n    dataReceived\n  } = _ref;\n  if (!dataReceived) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Data has not yet been received\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 29\n  }, this);else if (filterResult.length === 1) {\n    requestCountryInfo(filterResult[0]).then(data => {\n      console.log(data.name.common);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: data.name.common\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"SMTH\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this);\n    });\n  } else if (filterResult.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"No match\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 45\n  }, this);else if (filterResult.length > 10) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Too many matches. Specify another filter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  } else {\n    return filterResult.map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: c\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 34\n    }, this));\n  }\n};\n_c = SearchResult;\nfunction App() {\n  _s();\n  const [country, setCountry] = useState('');\n  const [countriesWithFilter, setCountriesWithFilter] = useState([]);\n  const [allCountries, setAllCountries] = useState([]);\n\n  // get list of all countries\n  useEffect(() => {\n    axios.get(baseUrl + \"api/all\").then(response => {\n      const allCountriesNew = response.data.map(obj => obj.name.common);\n      setAllCountries(allCountriesNew);\n    });\n  }, []);\n  useEffect(() => {\n    if (allCountries.length !== 0) {\n      const countriesWithFilterNew = allCountries.filter(c => c.toUpperCase().includes(country.toUpperCase()));\n      setCountriesWithFilter(countriesWithFilterNew);\n    }\n  }, [country]);\n  const onSearch = event => {\n    setCountry(event.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"find countries\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n      value: country !== null && country !== void 0 ? country : '',\n      onChange: onSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchResult, {\n      filterResult: countriesWithFilter,\n      dataReceived: allCountries.length !== 0 ? true : false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"gspPX3gK4NA3HHU4BRERvMhFQfI=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"SearchResult\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["useState","useEffect","axios","all","jsxDEV","_jsxDEV","baseUrl","requestCountryInfo","country","request","get","toLowerCase","dataPromise","then","response","data","SearchResult","_ref","filterResult","dataReceived","children","fileName","_jsxFileName","lineNumber","columnNumber","length","console","log","name","common","map","c","i","_c","App","_s","setCountry","countriesWithFilter","setCountriesWithFilter","allCountries","setAllCountries","allCountriesNew","obj","countriesWithFilterNew","filter","toUpperCase","includes","onSearch","event","target","value","onChange","_c2","$RefreshReg$"],"sources":["D:/Programming/FullStack/exercises/part2/countries/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios, { all } from 'axios'\n\nconst baseUrl = \"https://studies.cs.helsinki.fi/restcountries/\"\n\nconst requestCountryInfo = (country) => {\n  const request = axios.get(baseUrl + `api/name/${country.toLowerCase()}`)\n  const dataPromise = request.then(response => response.data)\n  return dataPromise\n}\n\nconst SearchResult = ({filterResult, dataReceived}) => {  \n  if (!dataReceived) return <div>Data has not yet been received</div>\n  else if (filterResult.length === 1) {\n    requestCountryInfo(filterResult[0])\n    .then(data => {\n      console.log(data.name.common)\n      return (\n        <div>\n          <h1>{data.name.common}</h1>\n          <h1>SMTH</h1>\n        </div>\n      )\n    })\n  }\n  else if(filterResult.length === 0) return <div>No match</div>\n  else if (filterResult.length > 10) {\n    return <div>Too many matches. Specify another filter</div>\n  } else {\n    return (\n      filterResult.map((c, i) => <div key={i}>{c}</div>)\n    )\n  }\n}\n\nfunction App() {  \n  const [country, setCountry] = useState('')\n  const [countriesWithFilter, setCountriesWithFilter] = useState([])\n  const [allCountries, setAllCountries] = useState([])\n\n  // get list of all countries\n  useEffect(() => {\n    axios.get(baseUrl + \"api/all\")\n    .then(response => {\n      const allCountriesNew = response.data.map(obj => obj.name.common)\n      setAllCountries(allCountriesNew)          \n    })\n  }, [])\n\n  useEffect(() => {\n    if (allCountries.length !== 0) {\n      const countriesWithFilterNew = allCountries.filter(c => c.toUpperCase().includes(country.toUpperCase()))\n      setCountriesWithFilter(countriesWithFilterNew)      \n    } \n  }, [country])\n\n  const onSearch = (event) => {\n    setCountry(event.target.value)\n  }\n\n  return (\n    <div>\n      find countries&nbsp;\n      <input value={country ?? ''} onChange={onSearch} />\n      <SearchResult filterResult={countriesWithFilter} dataReceived={allCountries.length !== 0 ? true : false} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}